---
description: python-style
alwaysApply: true
globs:
  - "**/*.py"
  - "**/*.pyi"
---

# Python style (project default)

- Prefer **readability** over cleverness.
- Add **type hints** for public functions and complex structures.
- Keep functions small; split responsibilities early.
- Prefer `pathlib.Path` for filesystem paths.
- Use explicit exceptions; avoid `except Exception: pass` (if you must, comment why).

## Formatting & linting

- If available in the repo, prefer:
  - `ruff format`
  - `ruff check` (optionally `--fix`)
- Keep imports sorted (ruff handles this if configured).

## Error handling

- Raise domain-specific exceptions (or wrap lower-level exceptions) at boundaries.
- Log with `logging` (structured/contextual where useful). Avoid `print()` for production code.

## Testing

- Prefer `pytest`.
- Use fixtures for setup; avoid shared mutable globals in tests.
- Keep unit tests fast and deterministic; mock IO at boundaries.

## Async

- Donâ€™t mix sync/async blindly; prefer one style per module.
- If using `asyncio`, keep cancellation and timeouts explicit.

## Notes

This repo is Python-first, but can include Node/TS utilities. JS/TS style rules are scoped to those file extensions.
